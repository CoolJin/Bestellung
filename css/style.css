:root {
    /* Dark Theme Palette */
    --bg-color: #0b1120;
    /* Very dark blue/black */
    --surface-color: #1e293b;
    /* Slightly lighter for cards */
    --text-color: #f1f5f9;
    --text-muted: #94a3b8;
    --primary-color: #38bdf8;
    /* Bright Cyan/Blue accent */
    --primary-hover: #0ea5e9;
    --accent-glow: rgba(56, 189, 248, 0.15);

    --glass-bg: rgba(15, 23, 42, 0.6);
    /* Semi-transparent dark */
    --glass-border: rgba(255, 255, 255, 0.1);
    --glass-blur: blur(12px);

    --radius-md: 12px;
    --radius-lg: 24px;
    --font-main: 'Inter', sans-serif;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    overflow-y: scroll;
}

body {
    background-color: var(--bg-color);
    color: var(--text-color);
    font-family: var(--font-main);
    line-height: 1.6;
    min-height: 100vh;
    padding-bottom: 100px;
    /* Space for bottom nav */
}

/* Typography */
h1,
h2,
h3 {
    color: white;
    font-weight: 700;
    letter-spacing: -0.025em;
}

/* Glassmorphism Floating Nav */
.floating-nav {
    position: fixed;
    bottom: 24px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    padding: 12px 24px;
    border-radius: 50px;
    display: flex;
    flex-direction: row;
    /* Force horizontal */
    align-items: center;
    /* Prevent vertical stretch */
    gap: 8px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    z-index: 1000;
    width: max-content;
    /* Ensure it only takes needed space */
    max-width: 90vw;
    /* Prevent overflow on small screens */
    height: auto;
    /* Prevent full height */
    flex-wrap: wrap;
    /* Handle many items gracefully */
    justify-content: center;
}

.nav-link {
    color: var(--text-muted);
    text-decoration: none;
    padding: 10px 20px;
    border-radius: 30px;
    transition: all 0.3s ease;
    font-weight: 500;
    font-size: 0.95rem;
    white-space: nowrap;
}

.nav-link:hover {
    color: white;
    background: rgba(255, 255, 255, 0.05);
}

.nav-link.active {
    color: white;
    background: var(--primary-color);
    box-shadow: 0 0 15px var(--accent-glow);
}

/* Layout */
#app-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 40px 20px;
}

.view.hidden {
    display: none;
    opacity: 0;
}

.view {
    animation: fadeIn 0.4s ease-out forwards;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Cards & Containers */
.card,
.product-card,
.login-card,
.admin-section {
    background: var(--surface-color);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-lg);
    padding: 24px;
}

/* Login */
.login-card {
    max-width: 400px;
    margin: 10vh auto;
    text-align: center;
}

.form-group {
    margin-bottom: 20px;
    text-align: left;
}

label {
    display: block;
    margin-bottom: 8px;
    color: var(--text-muted);
    font-size: 0.9rem;
}

/* Admin/Profile Panel Grid */
/* Default is flex row wrap for Admin dashboard maybe? */
/* We enforce column for Profile specific list */
#profile-orders-list {
    display: flex;
    flex-direction: column !important;
    gap: 15px;
    width: 100%;
}

.order-card {
    width: 100%;
    /* Ensure full width cards */
    max-width: 100%;
}

.archive-container {
    width: 100%;
    margin-top: 2rem;
    order: 999;
    /* Flex order to ensure bottom if mixed */
}

input {
    width: 100%;
    padding: 12px 16px;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    color: white;
    font-size: 1rem;
    outline: none;
    transition: border-color 0.2s;
}

input:focus {
    border-color: var(--primary-color);
}

/* Buttons */
.btn {
    padding: 12px 24px;
    border-radius: 12px;
    border: none;
    font-weight: 600;
    cursor: pointer;
    font-size: 1rem;
    transition: transform 0.1s, box-shadow 0.2s;
}

.btn-primary {
    background: var(--primary-color);
    color: #0f172a;
}

.btn-primary:hover {
    filter: brightness(1.1);
    box-shadow: 0 0 15px var(--accent-glow);
}

.btn-danger {
    background: #ef4444;
    color: white;
}

.btn-danger:hover {
    background: #dc2626;
    box-shadow: 0 0 15px rgba(239, 68, 68, 0.4);
}

.btn-secondary {
    background: transparent;
    border: 1px solid var(--glass-border);
    color: var(--text-color);
}

.btn-secondary:hover {
    border-color: var(--text-muted);
}

/* Search */
/* Search */
.header-actions {
    display: flex;
    justify-content: center;
    /* Center search */
    align-items: center;
    margin-bottom: 20px;
    position: relative;
}

.search-wrapper {
    position: relative;
    width: 100%;
    max-width: 600px;
}

.search-icon {
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-muted);
    pointer-events: none;
    font-size: 1.2rem;
    z-index: 10;
}

.search-input {
    width: 100%;
    /* More padding to prevent text overlap with icons */
    padding: 14px 50px 14px 50px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--glass-border);
    border-radius: 50px;
    color: white;
    font-size: 1.1rem;
    outline: none;
    transition: all 0.3s ease;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.search-input:focus {
    background: rgba(255, 255, 255, 0.1);
    box-shadow: 0 0 0 2px var(--primary-color), 0 8px 15px rgba(0, 0, 0, 0.2);
    border-color: var(--primary-color);
}

.search-clear {
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(255, 255, 255, 0.1);
    border: none;
    color: var(--text-muted);
    border-radius: 50%;
    width: 28px;
    /* Slightly larger touch target */
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 1rem;
    opacity: 0;
    pointer-events: none;
    transition: all 0.2s;
    line-height: 1;
    /* Fix vertical alignment */
    padding-bottom: 2px;
    /* Visual tweak for X */
}

.search-input:not(:placeholder-shown)+.search-clear {
    opacity: 1;
    pointer-events: auto;
}

.search-clear:hover {
    background: rgba(255, 255, 255, 0.2);
    color: white;
}

/* Cart Note */
#order-note {
    resize: none;
    /* Prevent resizing */
}

/* Loading & Results Feedback */
.search-feedback {
    text-align: center;
    margin-bottom: 20px;
    color: var(--text-muted);
    font-size: 1.1rem;
    min-height: 30px;
    /* Prevent layout jump */
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
}

.loader {
    width: 20px;
    height: 20px;
    border: 2px solid var(--primary-color);
    border-bottom-color: transparent;
    border-radius: 50%;
    display: inline-block;
    box-sizing: border-box;
    animation: rotation 1s linear infinite;
}

@keyframes rotation {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

.search-results {
    background: transparent;
    /* Cleaner look */
    border: none;
    padding: 0;
    margin-bottom: 30px;
}

/* Product Grid */
.product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 24px;
}

.product-card {
    padding: 0;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.product-image {
    aspect-ratio: 4/3;
    object-fit: cover;
    background: #000;
}

.product-info {
    padding: 20px;
    flex: 1;
    display: flex;
    flex-direction: column;
}

.product-name {
    margin-bottom: 8px;
    font-size: 1.2rem;
}

.product-desc {
    color: var(--text-muted);
    font-size: 0.9rem;
    margin-bottom: 20px;
    flex: 1;
}

.product-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: auto;
}

.product-price {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--primary-color);
}

/* Cart & Admin items */
.cart-item,
.order-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-md);
    padding: 15px;
    margin-bottom: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.admin-panel {
    display: grid;
    gap: 24px;
}

@media (min-width: 769px) {
    .floating-nav {
        /* Desktop: Top or Keep bottom? Modern trend is bottom, 
           but user asked for "Apple Human Interface", often bottom on mobile. 
           Let's keep it floating bottom for consistency or move to top if preferred.
           User said "Navigation bar like a floating island". 
           Let's stick to bottom for unique look or top. 
           Let's go with TOP for desktop, BOTTOM for mobile. */
        bottom: auto;
        top: 24px;
    }

    body {
        padding-bottom: 0;
        padding-top: 100px;
    }

    .admin-panel {
        grid-template-columns: 1fr 2fr;
    }
}